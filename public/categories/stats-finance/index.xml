<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Stats finance on The Stats Guy</title>
    <link>/categories/stats-finance/</link>
    <description>Recent content in Stats finance on The Stats Guy</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 27 Sep 2020 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="/categories/stats-finance/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>A gentle introduction to the modern portfolio theory</title>
      <link>/post/2020/09/27/a-gentle-introduction-to-the-modern-portfolio-theory/</link>
      <pubDate>Sun, 27 Sep 2020 00:00:00 +0000</pubDate>
      
      <guid>/post/2020/09/27/a-gentle-introduction-to-the-modern-portfolio-theory/</guid>
      <description>

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#problem-formulation&#34;&gt;Problem formulation&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#portfolio-weights&#34;&gt;Portfolio weights&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#portfolio-expectation-and-variance&#34;&gt;Portfolio expectation and variance&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-math-behind-diversification&#34;&gt;The math behind diversification&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#two-uncorrelated-assets&#34;&gt;Two uncorrelated assets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#two-correlated-assets&#34;&gt;Two correlated assets&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#starting-with-two-assets&#34;&gt;Starting with two assets&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#efficient-portfolios&#34;&gt;Efficient Portfolios&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#minimum-variance-portfolio&#34;&gt;Minimum variance portfolio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#risk-free-assets&#34;&gt;Risk-free assets&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#one-risky-asset-and-one-risk-free-asset&#34;&gt;One “risky” asset and one risk-free asset&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#two-risky-assets-and-one-risk-free-asset&#34;&gt;Two “risky” assets and one risk-free asset&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#conclusion&#34;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;introduction&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;In this post, I would like to talk about modern portfolio theory (MPT), a key topic in finance. The first couple of lines in the &lt;a href=&#34;https://en.wikipedia.org/wiki/Modern_portfolio_theory&#34;&gt;MPT Wikipedia article&lt;/a&gt; explains it very well:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(MPT) is a mathematical framework for assembling a portfolio of assets such that the expected return is maximized for a given level of risk. It is a formalization and extension of diversification in investing, the idea that owning different kinds of financial assets is less risky than owning only one type. Its key insight is that an asset’s risk and return should not be assessed by itself, but by how it contributes to a portfolio’s overall risk and return. It uses the variance of asset prices as a proxy for risk.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The objective of the MPT is to simultaneously maximise the returns of a portfolio, while at the same time, minimise the risk of the portfolio. Generally, we all know that higher returns come with higher risk, and therefore the dual goals of maximising returns while minimising risk are at odds with each other. After all, why would an investor place himself in a riskier position without any due reward or &lt;strong&gt;risk premium&lt;/strong&gt;? It wouldn’t make sense. Note that in this and many statistical finance frameworks, risk is often measured by means of standard deviation of returns, either that of the asset or the portfolio&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As a “gentle introduction” to MPT, in this post, all you need is the basic understanding of mean, variance, and covariance. I will do the rest by repeatedly applying these three statistics in the context of a portfolio - nothing more, nothing less!&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Terminology&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Risk premium&lt;/em&gt;&lt;/strong&gt; refers to the difference between the expected return between a risky asset, like a stock, and that of something that basically has no risk, like cash, Treasury Bills or Singapore Savings Bonds. Without any risk premium, there’s no reason to invest in anything other than risk-free assets.&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;problem-formulation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Problem formulation&lt;/h2&gt;
&lt;p&gt;Suppose there are &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; assets with &lt;span class=&#34;math inline&#34;&gt;\(R_i, i = 1, ..., N\)&lt;/span&gt; denoting the random variables that represent their respective returns in a given time period, and &lt;span class=&#34;math inline&#34;&gt;\(\mathbf{R} = (R_1, ..., R_N)^{T}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Their returns and risks are respectively&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{array}{c}
r_i = ER_i \\\
\sigma_i = Var(R_i)\\\
cov(\mathbf{R}) = \Sigma = (\sigma_{ij})_{1 \le i,j \le N}
\end{array}
\]&lt;/span&gt;
We can then form a portfolio consisting of the &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; assets such that&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{array}{c}
R_{pf} = w_1R_1 + ... + w_NR_N = w^T\mathbf{R},
\end{array}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&#34;math inline&#34;&gt;\(R_{pf}\)&lt;/span&gt; is the return of the portfolio and &lt;span class=&#34;math inline&#34;&gt;\(w_i\)&lt;/span&gt; is the weight of the &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;th asset in the portfolio, with&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[\sum_{i = 1}^{N} w_i = 1\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In other words, the portfolio is the linear combination of the various assets under consideration. Of course, the question that becomes: how to choose &lt;span class=&#34;math inline&#34;&gt;\(\mathbf{w} = (w_1, ..., w_N)^T\)&lt;/span&gt; such that expected returns are maximised while minimising risk?&lt;/p&gt;
&lt;div id=&#34;portfolio-weights&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Portfolio weights&lt;/h3&gt;
&lt;p&gt;A technical point to bring out here is that while &lt;span class=&#34;math inline&#34;&gt;\(\sum_{i = 1}^{N} w_i = 1\)&lt;/span&gt;, there is no constraint on individual &lt;span class=&#34;math inline&#34;&gt;\(w_i\)&lt;/span&gt; to be non-negative. In fact, a negative &lt;span class=&#34;math inline&#34;&gt;\(w_i\)&lt;/span&gt; implies a short position in the &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;th asset, i.e. &lt;strong&gt;short selling&lt;/strong&gt;. This is in constrast to a &lt;em&gt;long&lt;/em&gt; position, i.e. buying the &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;th asset. In this post, we will only consider positive &lt;span class=&#34;math inline&#34;&gt;\(w_i\)&lt;/span&gt; only.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Terminology&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Holding a &lt;strong&gt;&lt;em&gt;long&lt;/em&gt;&lt;/strong&gt; position in a particular asset simply means buying that particular asset. On the other hand, &lt;strong&gt;&lt;em&gt;short selling&lt;/em&gt;&lt;/strong&gt; is where one sells an asset without owning it in the first place. The asset, e.g. a stock, is borrowed from a broker or another customer of the broker. At a later point in time, a stock must then be bought back from the market and then returned to the lender. This closes the short position, and the idea is that if one is able to sell the borrowed stock at a higher price and return it at a lower price, a profit is made.&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;portfolio-expectation-and-variance&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Portfolio expectation and variance&lt;/h3&gt;
&lt;p&gt;With this set-up, the expectation and variance of the portfolio would be&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ER_{pf} = \sum_iw_iER_i = \mathbf{w}^TE\mathbf{R}\]&lt;/span&gt;
&lt;span class=&#34;math display&#34;&gt;\[Var(R_{pf}) = \sum_iw_i^2\sigma_i^2 + \sum_i\sum_{j\neq i}w_iw_j\sigma_{ij}\]&lt;/span&gt;
where &lt;span class=&#34;math inline&#34;&gt;\(\sigma_{ij}\)&lt;/span&gt; is the covariance between the &lt;span class=&#34;math inline&#34;&gt;\(i\)&lt;/span&gt;th and &lt;span class=&#34;math inline&#34;&gt;\(j\)&lt;/span&gt;th asset.&lt;/p&gt;
&lt;p&gt;Alternatively,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[Var(R_{pf}) = \sum_i\sum_jw_iw_j\sigma_{ij} = \mathbf{w}_T\Sigma \mathbf{w}\]&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-math-behind-diversification&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The math behind diversification&lt;/h2&gt;
&lt;p&gt;We all know “not to put our eggs in one basket”, and have a diversified portfolio. Intutitively, we know that if we were to put all our money on a single stock, then we have placed a large bet on that one company. While we could instantly make it big just by having our one stock making it big, &lt;a href=&#34;https://en.wikipedia.org/wiki/Loss_aversion&#34;&gt;loss aversion&lt;/a&gt; would dictate that we would rather minimise the risk of losing it all in a single stock.&lt;/p&gt;
&lt;p&gt;In this sense, what diversification does to a portfolio is that it minimises risk of the portfolio. While the mean return of a portfolio depends on the mean returns of the individual assets and their respective weights, the risk of the portfolio depends on both the risk of the individual assets, as well as each asset’s relationships with the others, in terms of correlations.&lt;/p&gt;
&lt;p&gt;This means that placing a right mix of weights and assets would reduce the risk of the portfolio - a fundamental idea in portfolio theory. Diversification, by way of investing in multiple assets, reduces risks.&lt;/p&gt;
&lt;p&gt;Let’s consider two instructive examples.&lt;/p&gt;
&lt;div id=&#34;two-uncorrelated-assets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Two uncorrelated assets&lt;/h3&gt;
&lt;p&gt;Suppose we have 2 assets with returns &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt;, with the same mean and variance:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{array}{}
ER_1 = ER_2 = \mu \\\
Var(R_1) = Var(R_2) = \sigma^2
\end{array}
\]&lt;/span&gt;
Also, &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt; are uncorrelated, i.e. &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12} = 0\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Investing 100% in either &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; or &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt; would yield exactly the same return and the same risk. Now consider a portfiolio with some weight on both assets. Let &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; be the weight for &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; - then we would have &lt;span class=&#34;math inline&#34;&gt;\(1-w\)&lt;/span&gt; for &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt;. In this portfolio, we would have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[ER_{pf} = wER_1 + (1-w)ER_2 = w\mu + (1-w)\mu = \mu\]&lt;/span&gt;
With this, we know that the return of this portfolio does not depend on &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;However, given that the assets are uncorrelated, we would have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[Var(R_{pf}) = w^2Var(R_1) + (1-w)^2Var(R_2) + cov(R_1, R_2)\]&lt;/span&gt;
where &lt;span class=&#34;math inline&#34;&gt;\(cov(R_1, R_2) = 0\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;So, we would have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[Var(R_{pf}) = (w^2 + (1-w)^2)\sigma^2\]&lt;/span&gt;
When &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; = &lt;span class=&#34;math inline&#34;&gt;\(0\)&lt;/span&gt; or &lt;span class=&#34;math inline&#34;&gt;\(1\)&lt;/span&gt;, we would have &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf}) = \sigma^2\)&lt;/span&gt;. However, for any other value of &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(0&amp;lt;w&amp;lt;1\)&lt;/span&gt;, we would have &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf}) &amp;lt; \sigma^2\)&lt;/span&gt;&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;two-correlated-assets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Two correlated assets&lt;/h3&gt;
&lt;p&gt;Let’s consider a similar scenario, but this time, &lt;span class=&#34;math inline&#34;&gt;\(cov(R_1, R_2) \neq 0\)&lt;/span&gt;. This also means that &lt;span class=&#34;math inline&#34;&gt;\(-1&amp;lt; \rho_{12} &amp;lt; 1\)&lt;/span&gt;. Consider a portfolio where &lt;span class=&#34;math inline&#34;&gt;\(w = \frac{1}{2}\)&lt;/span&gt;, i.e. placing equal weight on both assets &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt;. We would then have &lt;span class=&#34;math inline&#34;&gt;\(ER_{pf} = \frac{1}{2}ER_1 + \frac{1}{2}ER_2 = \mu\)&lt;/span&gt;. More importantly,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Var(R_{pf}) = \frac{1}{4}Var(R_1) + \frac{1}{4}Var(R_2) + 2\frac{1}{2}\frac{1}{2}Cov(R_1, R_2) \\\
= \frac{1}{4}\sigma^2 + \frac{1}{4}\sigma^2 + \frac{1}{2}\rho_{12}\sigma^2 \\\
= \frac{1}{2}(1+\rho_{12})\sigma^2
\]&lt;/span&gt;
Therefore, for any value of &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12}\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(-1 &amp;lt; \rho_{12} &amp;lt; 1\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf}) &amp;lt; \sigma^2\)&lt;/span&gt;&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;starting-with-two-assets&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Starting with two assets&lt;/h2&gt;
&lt;p&gt;Again, the objective of treating portfolio selection as a statistical problem is to select individual &lt;span class=&#34;math inline&#34;&gt;\(w_i\)&lt;/span&gt; such that &lt;span class=&#34;math inline&#34;&gt;\(ER_{pf}\)&lt;/span&gt; is large and &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf})\)&lt;/span&gt; is small. As with our two instructive examples above, we can start solving this problem by first considering &lt;span class=&#34;math inline&#34;&gt;\(N = 2\)&lt;/span&gt;, that is, choosing the weights &lt;span class=&#34;math inline&#34;&gt;\(w_i\)&lt;/span&gt; between two assets only. Inevitably, we would have&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{array}{c}
ER_{pf} = \sum_iw_iER_i = w_1ER_1 + w_2ER_2 \\\
Var(R_{pf}) = \sum_iw_i^2\sigma_i^2 + \sum_i\sum_{j\neq i}w_iw_jcov(R_1, R_2) = w_1^2\sigma_1^2 + w_2^2\sigma_2^2 + w_1w_2\rho_{12}\sigma_1\sigma_2 \\\
w_1+w_2 = 1, w_2 = 1 - w_1
\end{array}
\]&lt;/span&gt;
where &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12}\)&lt;/span&gt; is the correlation between &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt;. Again, we can let &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; be the weight for &lt;span class=&#34;math inline&#34;&gt;\(R_1\)&lt;/span&gt; - then we would have &lt;span class=&#34;math inline&#34;&gt;\(1-w\)&lt;/span&gt; for &lt;span class=&#34;math inline&#34;&gt;\(R_2\)&lt;/span&gt;. Simplifying,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
ER_{pf} = wER_1 + (1-w)ER_2 = w\mu_1 + (1-w)\mu_2 \\\
Var(R_{pf}) = w^2Var(R_1) + (1-w)^2Var(R_2) + 2w_1w_2cov(R_1, R_2) \\\
= w^2\sigma_1^2+ (1-w)^2\sigma_2^2 + 2w(1-w)\rho_{12}\sigma_1\sigma_2
\]&lt;/span&gt;
Notice that in this set-up, &lt;span class=&#34;math inline&#34;&gt;\(\mu_1\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(\mu_2\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(\sigma_1\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(\sigma_2\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12}\)&lt;/span&gt; are considered to be known and constant&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;. We are concerned with choosing a value for &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; such that &lt;span class=&#34;math inline&#34;&gt;\(ER_{pf}\)&lt;/span&gt; is maximised, while &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf})\)&lt;/span&gt; is minimised, i.e. we treat both &lt;span class=&#34;math inline&#34;&gt;\(ER_{pf}\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf})\)&lt;/span&gt; as univariate functions of &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Let’s visualise this with a numerical example.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# expected returns, standard deviation, and correlation of two assets
mu1 &amp;lt;- 0.2
mu2 &amp;lt;- 0.1
sigma1 &amp;lt;- 0.1
sigma2 &amp;lt;- 0.05
rho12 &amp;lt;- 0.25

# calculate return and risks based on w
cal_pf_return &amp;lt;- function(w){
  return(w*mu1 + (1-w)*mu2)
}
cal_pf_risk &amp;lt;- function(w){
  return(w^2*sigma1^2 + (1-w)^2*sigma2^2 + 2*w*(1-w)*rho12*sigma1*sigma2)
}

# weights span from -1 to 1; this considers short positions as well for illustration
weights &amp;lt;- seq(-1, 1, by = 0.01)

returns &amp;lt;- NULL
risks &amp;lt;- NULL

for(w in weights){
  returns &amp;lt;- c(returns, cal_pf_return(w))
  risks &amp;lt;- c(risks, cal_pf_risk(w))
}

plot(risks, returns,
     xlab = &amp;quot;Portfolio risk&amp;quot;,
     ylab = &amp;quot;Portfolio return&amp;quot;,
     main = &amp;quot;Risk-return relationship across weights&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-09-27-a-gentle-introduction-to-the-modern-portfolio-theory_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;efficient-portfolios&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Efficient Portfolios&lt;/h3&gt;
&lt;p&gt;Take a look at the plot above. Notice that&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For every possible value of return, there is one corresponding value of risk.&lt;/li&gt;
&lt;li&gt;However, for every possible value of risk, there are two corresponding values of returns.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Naturally, for a given amount of risk that we would like to take on, we would want a higher return than a lower one. Therefore, any combination of risk-return that belongs to the top half of the plot would be portfolios that we would want, as compared to the lower half. In particular, each combination in the top half of the plot are considered as &lt;strong&gt;efficient portfolios&lt;/strong&gt;. At this point, we might also want to know which is the portfolio or weight that has the lowest risks. This portfolio is also known as the &lt;strong&gt;minimum variance portfolio&lt;/strong&gt;.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Terminology&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Efficient portfolios&lt;/em&gt;&lt;/strong&gt; lie on on the &lt;a href=&#34;https://en.wikipedia.org/wiki/Efficient_frontier&#34;&gt;&lt;strong&gt;efficient frontier&lt;/strong&gt;&lt;/a&gt;, the top half of our plot. By definition, the efficient frontier consists of portfolios such that for each of these portfolios and their respective returns, there exists no other portfolios that carries a lower portfolio risk for a given return (hence “efficient”&lt;a href=&#34;#fn5&#34; class=&#34;footnote-ref&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;). The &lt;strong&gt;minimum variance portfolio&lt;/strong&gt; is one special case of an efficient portfolio - no other portfolios carries a lower portfolio risk than itself, and is the leftmost point of our plot.&lt;/p&gt;
&lt;hr /&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;min_risk_w &amp;lt;- weights[which(risks == min(risks))]
min_risk_return &amp;lt;- mean(cal_pf_return(min_risk_w))

efficient_idx &amp;lt;- which(returns &amp;gt;= min_risk_return)
inefficient_idx &amp;lt;- which(returns &amp;lt; min_risk_return)

plot(risks[efficient_idx], returns[efficient_idx],
     xlab = &amp;quot;Portfolio risk&amp;quot;,
     ylab = &amp;quot;Portfolio return&amp;quot;,
     main = &amp;quot;The Efficient Frontier&amp;quot;,
     ylim = c(0,0.2), xlim = c(0.002, 0.01))

lines(risks[inefficient_idx], returns[inefficient_idx], lty = &amp;quot;dotted&amp;quot;)

abline(h = min_risk_return)
text(x = 0.003, y = min_risk_return-0.01, &amp;quot;min variance portfolio&amp;quot;)
text(x = 0.006, y = 0.15, &amp;quot;efficient frontier&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-09-27-a-gentle-introduction-to-the-modern-portfolio-theory_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;minimum-variance-portfolio&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Minimum variance portfolio&lt;/h3&gt;
&lt;p&gt;In the example above, we arrived at the minimum variance portfolio by doing some simple calculations. A more robust method would be arrive at the minimum variance portfolio analytically by treating the problem as a optimization problem, minimizing &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf})\)&lt;/span&gt;. This can be done by simply solving some basic calculus.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
Var(R_{pf}) = w^2\sigma_1^2+ (1-w)^2\sigma_2^2 + 2w(1-w)\rho_{12}\sigma_1\sigma_2 \\
\frac{dVar(R_{pf})}{dw} = 2w\sigma_1^2 - 2(1-w)\sigma_2^2 + 2(1-2w)\rho_{12}\sigma_1\sigma_2 \\
\]&lt;/span&gt;
Also, since&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\frac{d^2Var(R_{pf})}{dw^2} = 2\sigma_1^2 + 2\sigma_2^2 - 4\rho_{12}\sigma_1\sigma_2
\geqslant 2\sigma_1^2 + 2\sigma_2^2 - 4\sigma_1\sigma_2 = 2(\sigma_1 - \sigma_2)^2 \geqslant 0 
\]&lt;/span&gt;
where &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12} &amp;lt; 1\)&lt;/span&gt;. We would have &lt;span class=&#34;math inline&#34;&gt;\(\frac{d^2Var(R_{pf})}{dw^2} &amp;gt; 0\)&lt;/span&gt;, i.e. solving &lt;span class=&#34;math inline&#34;&gt;\(\frac{dVar(R_{pf})}{dw} = 0\)&lt;/span&gt; minimizes &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf})\)&lt;/span&gt;, giving the minimium variance portfolio.&lt;/p&gt;
&lt;p&gt;Solving,&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
w \equiv w_{minvar} = \frac{\sigma_2^2 - \rho_{12}\sigma_1\sigma_2}{\sigma_1^2 + \sigma_2^2 - 2\rho_{12}\sigma_1\sigma_2}
\]&lt;/span&gt;
and&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
1 - w_{minvar} = \frac{\sigma_1^2 - \rho_{12}\sigma_1\sigma_2}{\sigma_1^2 + \sigma_2^2 - 2\rho_{12}\sigma_1\sigma_2}
\]&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;risk-free-assets&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Risk-free assets&lt;/h2&gt;
&lt;p&gt;Now let’s make this a little more interesting than just 2 assets. Since it’s always possible to not invest all our capital in these assets, and in fact leave a portion of capital in something that is &lt;strong&gt;risk-free&lt;/strong&gt;, such as cash, we could include risk-free assets as part of our framework as well. In particular, we could have &lt;span class=&#34;math inline&#34;&gt;\(w_1 + w_2 &amp;lt; 1\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(1 - w_1 - w_2\)&lt;/span&gt; being the portion not invested, but instead diverted to risk-free assets. Doing this directly reduces portfolio variance, and of course reduces portfolio return.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Terminology&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As pointed out above, &lt;strong&gt;risk-free assets&lt;/strong&gt; are simply assets that are generally deemed as 100% safe&lt;a href=&#34;#fn6&#34; class=&#34;footnote-ref&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;, such as cash in a deposit account&lt;a href=&#34;#fn7&#34; class=&#34;footnote-ref&#34; id=&#34;fnref7&#34;&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/a&gt;, Treasury Bills, or Singapore Savings Bonds. Typically, the three-month &lt;a href=&#34;https://www.treasury.gov/resource-center/data-chart-center/interest-rates/pages/textview.aspx?data=yield&#34;&gt;US Treasury Bills&lt;/a&gt; are used as proxies for risk-free assets, and their yield or return are considered accordingly. In context of Singapore, we could consider the yield of SSBs as risk-free returns.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Let &lt;span class=&#34;math inline&#34;&gt;\(R_{free}\)&lt;/span&gt; be the random variable representing the return of a risk-free asset. Then we have &lt;span class=&#34;math inline&#34;&gt;\(ER_{free} = \mu_{free}\)&lt;/span&gt;, and &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{free}) = 0\)&lt;/span&gt;&lt;a href=&#34;#fn8&#34; class=&#34;footnote-ref&#34; id=&#34;fnref8&#34;&gt;&lt;sup&gt;8&lt;/sup&gt;&lt;/a&gt;. Naturally, &lt;span class=&#34;math inline&#34;&gt;\(ER_{free}\)&lt;/span&gt; would be small and contributes a small return to portfolio. On the other hand, directly adjusting the &lt;span class=&#34;math inline&#34;&gt;\(1 - w_1 - w_2\)&lt;/span&gt; provides a convenient of controlling portfolio variance.&lt;/p&gt;
&lt;p&gt;Also, note that since &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{free}) = 0\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(\forall i cov(R_{free}, R_i) = 0\)&lt;/span&gt;, i.e. the risk-free is not correlated with any other “risky” assets&lt;a href=&#34;#fn9&#34; class=&#34;footnote-ref&#34; id=&#34;fnref9&#34;&gt;&lt;sup&gt;9&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div id=&#34;one-risky-asset-and-one-risk-free-asset&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;One “risky” asset and one risk-free asset&lt;/h3&gt;
&lt;p&gt;Now let’s consider combining a “risky” asset with a risk-free one. Let &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; be the weight invested in the risky asset, with its return being &lt;span class=&#34;math inline&#34;&gt;\(ER\)&lt;/span&gt; and variance being &lt;span class=&#34;math inline&#34;&gt;\(Var(R)\)&lt;/span&gt;. The portfolio would look like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
ER_{pf} = wER + (1-w)R_{free} \implies \mu_{pf} = w\mu_R + (1-w)\mu_{free} \\
Var(R_{pf}) = w^2Var(R) \implies \sigma_{pf} = w\sigma_R
\]&lt;/span&gt;
In particular, observe that the portfolio variance is now a function of &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt;, i.e. solving &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf}) = w^2Var(R)\)&lt;/span&gt; gives &lt;span class=&#34;math inline&#34;&gt;\(w = \frac{\sigma_{pf}}{\sigma_R}\)&lt;/span&gt;, where &lt;span class=&#34;math inline&#34;&gt;\(\sigma_{pf}\)&lt;/span&gt; is the standard deviation of the portfolio and &lt;span class=&#34;math inline&#34;&gt;\(\sigma_R\)&lt;/span&gt; is the standard deviation of the risky asset.&lt;/p&gt;
&lt;p&gt;This gives the following relationship between the portfolio return &lt;span class=&#34;math inline&#34;&gt;\(\mu_{pf}\)&lt;/span&gt; and variance &lt;span class=&#34;math inline&#34;&gt;\(\sigma_{pf}\)&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\mu_{pf} = \mu_{free} + \frac{\mu_R - \mu_{free}}{\sigma_R}\sigma_{pf}
\]&lt;/span&gt;
Again, let’s visualize this relationship with a numerical example.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# expected returns of both &amp;quot;risky&amp;quot; and risk-free asset, variance
mu_R    &amp;lt;- 0.2
mu_free &amp;lt;- 0.04
sigma_R &amp;lt;- 0.1

# calculate return and risks based on w
cal_pf_return &amp;lt;- function(w){
  return(w*mu_R + (1-w)*mu_free)
}
cal_pf_sd &amp;lt;- function(w){ # standard deviation, not variance
  return(w*sigma_R)
}

weights &amp;lt;- seq(0, 1, by = 0.01)

returns &amp;lt;- NULL
risks &amp;lt;- NULL

for(w in weights){
  returns &amp;lt;- c(returns, cal_pf_return(w))
  risks &amp;lt;- c(risks, cal_pf_sd(w))
}

plot(risks, returns,
     xlab = &amp;quot;Portfolio sd&amp;quot;,
     ylab = &amp;quot;Portfolio return&amp;quot;,
     main = &amp;quot;Risk-return relationship across weights&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2020-09-27-a-gentle-introduction-to-the-modern-portfolio-theory_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;two-risky-assets-and-one-risk-free-asset&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Two “risky” assets and one risk-free asset&lt;/h3&gt;
&lt;p&gt;Now, let’s go one step further, and look at having two “risky” assets with one risk-free asset. What does the math look like? Again, Let &lt;span class=&#34;math inline&#34;&gt;\(w_1\)&lt;/span&gt; be the weight invested in the first risky asset, &lt;span class=&#34;math inline&#34;&gt;\(w_2\)&lt;/span&gt; in the second risky asset and &lt;span class=&#34;math inline&#34;&gt;\(w_{free}\)&lt;/span&gt; in the risk-free asset, with respective returns being &lt;span class=&#34;math inline&#34;&gt;\(ER_1\)&lt;/span&gt;, &lt;span class=&#34;math inline&#34;&gt;\(ER_2\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(ER_{free}\)&lt;/span&gt;, and variances being &lt;span class=&#34;math inline&#34;&gt;\(Var(R_1)\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(Var(R_2)\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Since there are now two risky assets, we also need to consider their correlation, &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12}\)&lt;/span&gt;. The portfolio would look like this:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
ER_{pf} = w_1ER_1 + w_2ER_2 + (1-w_1-w_2)R_{free} \implies \mu_{pf} = w_1\mu_{R_1} + w_2\mu_{R_2} + (1-w_1-w_2)\mu_{free} \\
Var(R_{pf}) = w_1^2Var(R_1) + w_2^2Var(R_2) + 2w_1w_2cov(R_1, R_2) = w_1^2\sigma_1^2 + w_2^2\sigma_2^2 + 2w_1w_2\rho_{12}\sigma_1\sigma_2 \\
w_{free} = 1-w_1-w_2
\]&lt;/span&gt;
In particular, note that we can write &lt;span class=&#34;math inline&#34;&gt;\(ER_{pf}\)&lt;/span&gt; in the following manner as well:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
ER_{pf} = (1-w_{free})(\bar{w_1}R_1 + \bar{w_2}R_2) + w_{free}R_{free} \\
\bar{w_1} = \frac{w_1}{1-w_{free}}, \bar{w_2} = \frac{w_2}{1-w_{free}} \implies \bar{w_1} + \bar{w_2} = 1
\]&lt;/span&gt;
In this sense, we can now view portfolio selection as a two-stage problem. First, we construct a portfolio based on risky assets only (e.g. chooosing &lt;span class=&#34;math inline&#34;&gt;\(\bar{w_1}\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\bar{w_2}\)&lt;/span&gt; only). Then, we include the risk-free asset by choosing &lt;span class=&#34;math inline&#34;&gt;\(w_{free}\)&lt;/span&gt;. From the perspective, we gain an interesting tool in controlling for the risk we take on in our portfolio, by the inclusion of the risk-free asset - since its inclusion always decreases the portfolio risk, regardless of the risky assets we take on.&lt;/p&gt;
&lt;p&gt;Also note that once the first stage is completed, we are effectively dealing with one risky asset and one risk-free asset again, with the “single risky asset” being a combination of 2 risky assets, with &lt;span class=&#34;math inline&#34;&gt;\(\bar{w_1}\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\bar{w_2}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Therefore, the scenario of using two risky assets and one risk-free asset simplifies that of using one risky asset and one risk-free asset! This results also generalises to &lt;span class=&#34;math inline&#34;&gt;\(N\)&lt;/span&gt; assets.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;In this post, I have attempted to give a brief and hopefully gentle enough introduction to the Modern Portfolio Theory, using only statistics like mean, variance, and covariance. We looked at the math behind diversification, computed the Efficient Frontier, and generalised the problem from &lt;span class=&#34;math inline&#34;&gt;\(N=2\)&lt;/span&gt; assets to &lt;span class=&#34;math inline&#34;&gt;\(N&amp;gt;2\)&lt;/span&gt; assets.&lt;/p&gt;
&lt;p&gt;If you are interested to go a bit further, you might want to find out more about the &lt;a href=&#34;https://pgpfm.wordpress.com/tag/tangency-portfolio/&#34;&gt;Tangency Portfolio&lt;/a&gt; and the &lt;a href=&#34;https://en.wikipedia.org/wiki/Sharpe_ratio&#34;&gt;Sharpe Ratio&lt;/a&gt; - both further extends our analysis and this post would have given you sufficient understanding for further exploration.&lt;/p&gt;
&lt;p&gt;That’s all from me today, thank you for reading!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;In my personal opinion, using standard deviation as a measure of risk is a little iffy, for several reasons. For example, risk could be better represented as a probability of huge losses, rather than the sd of expected returns - but let’s stick to this for now.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;In particular, choosing &lt;span class=&#34;math inline&#34;&gt;\(w\)&lt;/span&gt; = &lt;span class=&#34;math inline&#34;&gt;\(\frac{1}{2}\)&lt;/span&gt; minimizes &lt;span class=&#34;math inline&#34;&gt;\(Var(R_{pf})\)&lt;/span&gt; at &lt;span class=&#34;math inline&#34;&gt;\(\frac{\sigma}{\sqrt{2}}\)&lt;/span&gt;.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;It’s commonly said that stocks and bonds are considered to be negatively correlated. Assuming this is true, consider the two subdomains &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12} &amp;lt; 0\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\rho_{12} &amp;gt; 0\)&lt;/span&gt;. We have &lt;span class=&#34;math inline&#34;&gt;\(\forall\rho_{12} &amp;lt; 0, Var(R_{pf}) &amp;lt; \frac{1}{2}\sigma^2\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(\forall\rho_{12} &amp;gt; 0, Var(R_{pf}) &amp;gt; \frac{1}{2}\sigma^2\)&lt;/span&gt;, i.e. portfolio risk reduces when you have two negatively correlated assets in the portfolio - an intuitive result and justification for proper diversification and &lt;a href=&#34;https://www.investopedia.com/terms/s/strategicassetallocation.asp&#34;&gt;strategic asset allocation&lt;/a&gt;. This of course begs the question on whether stocks and bonds are indeed negatively correlated, in good economic times and in bad, and correlated by how much. We can explore this topic deeper in the future. Also, the math here is similar to that of &lt;a href=&#34;https://thestatsguy.rbind.io/post/2018/12/25/why-ensemble-modelling-works-so-well-and-one-often-neglected-principle/&#34;&gt;ensemble modelling&lt;/a&gt; in machine learning.&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;Of course the challenge in real life is to estimate them using historical data.&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;The same way an estimator &lt;span class=&#34;math inline&#34;&gt;\(\hat{\theta}\)&lt;/span&gt; is &lt;a href=&#34;https://en.wikipedia.org/wiki/Efficient_estimator&#34;&gt;efficient&lt;/a&gt; if &lt;span class=&#34;math inline&#34;&gt;\(Var(\hat{\theta})\)&lt;/span&gt; is minimized.&lt;a href=&#34;#fnref5&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;Of course there is no such thing in real life.&lt;a href=&#34;#fnref6&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn7&#34;&gt;&lt;p&gt;In Singapore, up to SGD75K is insured by &lt;a href=&#34;https://www.sdic.org.sg/&#34;&gt;SDIC&lt;/a&gt;.&lt;a href=&#34;#fnref7&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn8&#34;&gt;&lt;p&gt;We could in fact use a constant instead of a random variable.&lt;a href=&#34;#fnref8&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn9&#34;&gt;&lt;p&gt;Again, this is not always true in real life. For example, we have a coronavirus pandemic decimating the return of both “risky” and risk-free assets.&lt;a href=&#34;#fnref9&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Statistical methods in finance series</title>
      <link>/post/2020/03/19/statistical-methods-in-finance-series/</link>
      <pubDate>Thu, 19 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>/post/2020/03/19/statistical-methods-in-finance-series/</guid>
      <description>

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://miro.medium.com/max/1280/1*LZnClq6o0kEU88-BZnkvCw.jpeg&#34; width=&#34;100%&#34;&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s a sleepless night, so I decided to write a little. This will be the first part of a series that I would like to write about, circling around the use of statistical methods in finance. Most of the content that I will be exploring would originate from one of my NUS M.Sc Statistics modules, Advanced Statistical Methods in Finance. I was taught by Prof Xia Yingcun when I did this module.&lt;/p&gt;

&lt;p&gt;Of all the modules that I did during my M.Sc, I always found this one to resonate with me the most - guess that&amp;rsquo;s mainly because I like topic, as well as of the fact that I was heavily experimenting with investing on my own during that time. I also found that using finance as the backdrop or context to study certain statistical concepts, such as copula or factor analysis, to be more engaging than perhaps studying these topics in vaccum.&lt;/p&gt;

&lt;h1 id=&#34;statistical-methods-in-finance&#34;&gt;Statistical methods in finance&lt;/h1&gt;

&lt;p&gt;There are a number of statistical methods that can be directly mapped to their applications in finance:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Statistical distributions: Value-at-Risk (VaR)&lt;/li&gt;
&lt;li&gt;Linear regression: Capital Asset Pricing Model (CAPM)&lt;/li&gt;
&lt;li&gt;Factor analysis: Arbitrage Pricing Theory&lt;/li&gt;
&lt;li&gt;Logit/probit models: credit scoring/rating&lt;/li&gt;
&lt;li&gt;Time series analysis: price forecast, volatility modelling&lt;/li&gt;
&lt;li&gt;Nonlinear regression: term structures of interest rates&lt;/li&gt;
&lt;li&gt;Monte-Carlo simulations: pricing of assets&lt;/li&gt;
&lt;li&gt;Copulae: tail dependence of asset prices&lt;/li&gt;
&lt;li&gt;Estimation of covariance matrix and optimization: Markowitz&amp;rsquo;s portfolio theory&lt;/li&gt;
&lt;li&gt;and many more&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In this series, I would like to tackle some of these topics, by combining statistical theory, finance theory, and the use of R where relevant.&lt;/p&gt;

&lt;h1 id=&#34;broader-question-can-statistics-be-used-to-make-a-profit&#34;&gt;Broader question: can statistics be used to make a profit?&lt;/h1&gt;

&lt;p&gt;Since there are folks who decided to spend the time and energy to study the application of statistical methods in capital markets, surely it&amp;rsquo;s a worthwhile effort and making money is possible? Well, yes and no. It&amp;rsquo;s well known in statistical finance is that financial data has extremely low signal-to-noise (SNR) ratio. This means that for a model that predicts price, even if the model is correctly specified, due to the low SNR, it&amp;rsquo;s unlikely for the predictions to be useful. Most folks would hence consider the study of price volatility to be more important than price itself. If we are able to have an informed point of view about future volatility (perhaps due to the fact that volatility autocorrelation is strong =&amp;gt; volatility may be predicted in a GARCH/ARCH model), we would be able to act accordingly. We will talk about this along the way in this series.&lt;/p&gt;

&lt;h1 id=&#34;stylized-fact-in-statistical-finance&#34;&gt;Stylized fact in statistical finance&lt;/h1&gt;

&lt;p&gt;I previously (well, a year ago) wrote about &lt;a href=&#34;https://thestatsguy.rbind.io/post/2019/04/04/short-stylized-facts-in-statistical-finance/&#34;&gt;stylized facts&lt;/a&gt; in statistical finance, where I briefly listed without explanations various &amp;ldquo;facts&amp;rdquo;. Stylized facts are commonly used in statistical finance to address and summarize phenomenon directly observed from historical data, and explainable with a certain level of theoretical consistency and logic. There are a number of well-known ones, such as:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Financial data has extremely low signal-to-noise ratio.&lt;/li&gt;
&lt;li&gt;Price changes are less volatile in bull markets and more volatile bear markets.&lt;/li&gt;
&lt;li&gt;Volatility clustering is typically observed in financial data; that is, large changes tend to be followed by large changes of either sign, and small changes tend to be followed by small changes of either sign.&lt;/li&gt;
&lt;li&gt;and others&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In this series, we will necessarily also delve a little deeper into some of these stylized facts, by considering both empirical (historical data) and theoretical perspectives.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s it for a brief introduction to series - looking forward to do deep dives into various topics!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Stylized facts in statistical finance</title>
      <link>/post/2019/04/04/stylized-facts-in-statistical-finance/</link>
      <pubDate>Thu, 04 Apr 2019 00:00:00 +0000</pubDate>
      
      <guid>/post/2019/04/04/stylized-facts-in-statistical-finance/</guid>
      <description>&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://miro.medium.com/max/1280/1*LZnClq6o0kEU88-BZnkvCw.jpeg&#34; width=&#34;100%&#34;&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;In statistical finance (as well as in certain areas in social science), &lt;a href=&#34;https://en.wikipedia.org/wiki/Stylized_fact&#34;&gt;stylized facts&lt;/a&gt; are empirical observations summarized in a theory-like form, and are generally representative under broad circumstances.&lt;/p&gt;

&lt;p&gt;Stylized facts are commonly used in statistical finance to address and summarize phenomenon directly observed from historical data, and explainable with a certain level of theoretical consistency and logic (&#34;... this makes sense to me&#34;). Stylized facts may often guide investigations and explorations into certain topics of interest, functioning perhaps as assumptions to be either built upon or proven otherwise. Specifically, invalidating a stylized fact could be considered insightful, much like using data analysis and machine learning to invalidate certain entrenched assumptions held by business users.&lt;/p&gt;

&lt;p&gt;In this first statistical finance post, I would like to list out a couple of stylized facts (SF), without explanation, that are observed and used in finance, for future referencing as well as for my own explorations.&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;&lt;strong&gt;(SF1)&lt;/strong&gt; Financial data has extremely low signal-to-noise ratio.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF2)&lt;/strong&gt; Price changes are less volatile in bull markets and more volatile bear markets.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF3)&lt;/strong&gt; The autocorrelations of the returns of an asset is weak, hence univariate prediction of returns is not possible. However, volatility autocorrelation is strong, and volatility can be reasonably predicted (using e.g. &lt;a href=&#34;https://en.wikipedia.org/wiki/Autoregressive_conditional_heteroskedasticity&#34;&gt;GARCH&lt;/a&gt; models).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF4)&lt;/strong&gt; Financial data usually have more extreme events or values than expected (fat tails, &lt;a href=&#34;https://en.wikipedia.org/wiki/Black_swan_theory&#34;&gt;black swans&lt;/a&gt;).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF5)&lt;/strong&gt; Tail dependence between different assets are high, making &lt;a href=&#34;https://en.wikipedia.org/wiki/Copula_(probability_theory)&#34;&gt;copula&lt;/a&gt; fitting worthwhile.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF6)&lt;/strong&gt; Past price changes are negatively correlated with future volatility.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF7)&lt;/strong&gt; Aggregate stock market returns (e.g. an index) display negative skewness; individual stock returns display positive skewness.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF8)&lt;/strong&gt; In the long run, stocks in a given market will be positively correlated.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;(SF9)&lt;/strong&gt; Volatility clustering is typically observed in financial data; that is, large changes tend to be followed by large changes of either sign, and small changes tend to be followed by small changes of either sign.&lt;/li&gt;&lt;/ul&gt;

&lt;p&gt;There are probably more and more advanced ones that I have yet to come across, so I will probably add on to the list over time. In any case, I will start with these SFs and other techniques in the meantime, in my exploration of statistical finance. I also be using these SF indices (SF1 etc.) as references in future posts to reduce verbose.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
